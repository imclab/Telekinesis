window.Telekinesis=function(){function t(t){this.identifier=h,h+=1,this.type=t in s?t:e(),c.push(this),this.x=0,this.y=0}function o(t,o,e){this.x=o||this.x,this.y=e||this.y,t=s[this.type][t];var i=document.elementFromPoint(this.x,this.y);if(!i)return console.warn('"'+t+'" out of bound at x:'+this.x+", y:"+this.y),void 0;var r=n.call(this,event,i);u(t,r,i)}function n(t,o){var n,e=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,s={identifier:this.identifier,clientX:this.x,clientY:this.y,pageX:this.x+e,pageY:this.y+u,target:o};return this.target=o,this.point=s,n="touch"===this.type?{touches:i(),changedTouches:[s],targetTouches:r(o)}:s}function e(){return"ontouchstart"in window?"touch":"mouse"}function i(){var t=[];return c.forEach(function(o){o.active&&t.push(o.point)}),t}function r(t){var o=[];return c.forEach(function(n){n.active&&n.target===t&&o.push(n.point)}),o}function u(t,o,n){var e=document.createEvent("CustomEvent");e.initEvent(t,!0,!0);for(var i in o)e[i]=o[i];n.dispatchEvent(e)}var s={mouse:{down:"mousedown",move:"mousemove",up:"mouseend"},touch:{down:"touchstart",move:"touchmove",up:"touchend"},pointer:{down:"pointerdown",move:"pointermove",up:"pointerup"}},c=[],h=0;return t.prototype={down:function(t,n){return this.active=!0,o.call(this,"down",t,n),this},move:function(t,n){return o.call(this,"move",t,n),this},up:function(t,n){return this.active=!1,o.call(this,"up",t,n),this}},{Finger:t}}(),Telekinesis.Finger.prototype.drag=function(){var t=1,o=16;return function(n){function e(){return f>=h?(i.up(m,v),n.done&&n.done(),void 0):(f+=1,m+=a,v+=d,i.move(m,v),setTimeout(e,o),void 0)}var i=this;if(!n.from&&!n.to)return console.warn("Insufficient options for Telekinesis.drag()"),void 0;var r=n.to.x-n.from.x,u=n.to.y-n.from.y,s=Math.sqrt(r*r+u*u),c=n.duration||s/t,h=Math.round(c/o),a=r/h,d=u/h,f=0,m=n.from.x,v=n.from.y;i.down(m,v),e()}}();